---
import { getCollection } from 'astro:content'
import BaseLayout from '../../layouts/BaseLayout.astro'

const allEntries = await getCollection('playground')
const sorted = allEntries.sort((a, b) => a.data.sortOrder - b.data.sortOrder)
---

<BaseLayout title="Playground â€” Sam Stringer-Hye" description="Interactive experiments and creative coding explorations.">
  <section class="playground-index">
    <div class="playground-header">
      <p class="text-label">Experiments</p>
      <h1>Playground</h1>
    </div>

    <div class="playground-grid">
      {sorted.map(entry => (
        <div class="playground-card" data-hover="caustic-card" data-reveal="stagger">
          <h2 class="playground-title">{entry.data.title}</h2>
          <p class="playground-desc">{entry.data.description}</p>
          <div class="playground-tags">
            {entry.data.tags.map(t => <span class="playground-tag">{t}</span>)}
          </div>
        </div>
      ))}
    </div>
  </section>
</BaseLayout>

<style>
  .playground-index {
    max-width: var(--max-width-content);
    margin: 0 auto;
    padding: var(--space-3xl) var(--space-xl);
  }

  .playground-header {
    margin-bottom: var(--space-3xl);
  }

  .playground-header h1 {
    margin-top: var(--space-sm);
  }

  .playground-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: var(--space-xl);
  }

  .playground-card {
    padding: var(--space-xl);
    border-radius: var(--radius-lg);
    background: var(--color-background);
    border: var(--border-subtle);
    transition: box-shadow 0.35s ease;
  }

  .playground-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-regular);
    margin-bottom: var(--space-sm);
  }

  .playground-desc {
    font-size: var(--font-size-sm);
    line-height: var(--line-height-normal);
    margin-bottom: var(--space-md);
  }

  .playground-tags {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
  }

  .playground-tag {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-regular);
    padding: var(--space-xs) var(--space-sm);
    background: var(--color-surface);
    border-radius: var(--radius-full);
    color: var(--color-text-primary);
  }
</style>
