import{g as l}from"./index.CB87Sc6I.js";import{S as c}from"./ScrollTrigger.Cv03IO65.js";import{a as g,c as u,S as d}from"./cmy-animate.BALd3c24.js";import{a as f}from"./tokens.q7p3D4vK.js";l.registerPlugin(c,d);const r=f.textReveal,m=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches;let t=[];async function y(){if(c.getAll().forEach(e=>{e.vars?._isReveal&&e.kill()}),t.forEach(e=>e.kill()),t=[],m()){document.querySelectorAll("[data-reveal]").forEach(e=>{l.set(e,{opacity:1,y:0,filter:"none",textShadow:"none"})});return}await document.fonts.ready;const n=new Set;document.querySelectorAll("[data-reveal-group]").forEach(e=>{const a=Array.from(e.querySelectorAll("[data-reveal]"));if(!a.length)return;a.forEach(o=>n.add(o));const i=l.timeline({scrollTrigger:{trigger:e,start:r.scrollStart,toggleActions:"play none none none",_isReveal:!0}});a.forEach((o,s)=>{t.push(g(o,r,i,s*r.blockStagger))})}),document.querySelectorAll("[data-reveal]").forEach(e=>{n.has(e)||t.push(u(e,r,{scrollTrigger:{trigger:e,start:r.scrollStart,toggleActions:"play none none none",_isReveal:!0}}))})}export{y as initScrollReveals};
