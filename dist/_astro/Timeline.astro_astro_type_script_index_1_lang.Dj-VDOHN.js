import{g as t}from"./index.CB87Sc6I.js";import{a as T,c as A}from"./tokens.q7p3D4vK.js";const e=T.timeline.hover,q=A(e.cmyOpacity);let G=0;function E(){const o=document.querySelector("[data-timeline]");if(!o)return;const D=parseInt(o.dataset.totalSpan,10),s=Array.from(o.querySelectorAll(".timeline-card")),u=Array.from(o.querySelectorAll(".timeline-year-group")),y=o.querySelectorAll(".timeline-title, .timeline-company"),m=o.querySelectorAll(".timeline-year p"),w=o.querySelectorAll(".timeline-highlights");if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const f=window.matchMedia("(max-width: 768px)");f.matches||s.forEach(r=>{const d=parseInt(r.dataset.cardIndex,10),O=parseInt(r.dataset.cardSpan,10),S=r.querySelector(".timeline-card-wipe"),g=r.querySelector(".timeline-highlights"),p=o.querySelector(`[data-year-group="${d}"]`),h=p?.querySelector(".timeline-year-group-wipe");r.addEventListener("mouseenter",()=>{if(f.matches)return;t.killTweensOf(s),t.killTweensOf(u),t.killTweensOf(y),t.killTweensOf(m),t.killTweensOf(w);const a=q[G++%q.length],n=D-O;t.to(r,{flexGrow:n,duration:e.expandDuration,ease:e.expandEase}),t.to(r.querySelectorAll(".timeline-title, .timeline-company"),{opacity:1,duration:e.textShowDuration}),t.set(S,{backgroundColor:a,scaleX:0}),t.to(S,{scaleX:1,duration:e.wipeDuration,ease:e.wipeEase}),g&&t.to(g,{opacity:1,duration:e.highlightsShowDuration,delay:e.highlightsShowDelay,ease:e.highlightsShowEase}),p&&h&&(t.to(p,{flexGrow:n,duration:e.expandDuration,ease:e.expandEase}),t.to(p.querySelectorAll(".timeline-year p"),{opacity:1,duration:e.textShowDuration}),t.set(h,{backgroundColor:a,scaleX:0}),t.to(h,{scaleX:1,duration:e.wipeDuration,ease:e.wipeEase})),s.forEach(i=>{if(parseInt(i.dataset.cardIndex,10)===d)return;const l=parseInt(i.dataset.cardSpan,10);t.to(i,{flexGrow:l,duration:e.expandDuration,ease:e.expandEase}),t.to(i.querySelectorAll(".timeline-title, .timeline-company"),{opacity:0,duration:e.textHideDuration});const c=i.querySelector(".timeline-highlights");c&&t.set(c,{opacity:0});const x=i.querySelector(".timeline-card-wipe");x&&t.to(x,{scaleX:0,duration:e.wipeOutDuration,ease:e.wipeOutEase})}),u.forEach(i=>{if(parseInt(i.dataset.yearGroup,10)===d)return;const l=parseInt(i.dataset.yearGroupSpan,10);t.to(i,{flexGrow:l,duration:e.expandDuration,ease:e.expandEase}),t.to(i.querySelectorAll(".timeline-year p"),{opacity:0,duration:e.textHideDuration});const c=i.querySelector(".timeline-year-group-wipe");c&&t.to(c,{scaleX:0,duration:e.wipeOutDuration,ease:e.wipeOutEase})})}),r.addEventListener("mouseleave",()=>{t.killTweensOf(s),t.killTweensOf(u),t.killTweensOf(y),t.killTweensOf(m),t.killTweensOf(w),s.forEach(a=>{const n=parseInt(a.dataset.cardSpan,10);t.to(a,{flexGrow:n,duration:e.collapseDuration,ease:e.collapseEase}),t.to(a.querySelectorAll(".timeline-title, .timeline-company"),{opacity:1,duration:e.collapseTextDuration});const i=a.querySelector(".timeline-card-wipe");i&&t.to(i,{scaleX:0,duration:e.wipeOutDuration,ease:e.wipeOutEase});const l=a.querySelector(".timeline-highlights");l&&t.to(l,{opacity:0,duration:e.highlightsHideDuration,ease:e.highlightsHideEase})}),u.forEach(a=>{const n=parseInt(a.dataset.yearGroupSpan,10);t.to(a,{flexGrow:n,duration:e.collapseDuration,ease:e.collapseEase}),t.to(a.querySelectorAll(".timeline-year p"),{opacity:1,duration:e.collapseTextDuration});const i=a.querySelector(".timeline-year-group-wipe");i&&t.to(i,{scaleX:0,duration:e.wipeOutDuration,ease:e.wipeOutEase})})})})}E();document.addEventListener("astro:page-load",E);
